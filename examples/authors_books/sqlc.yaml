version: "2"
plugins:
  - name: crystal
    process:
      cmd: ../../bin/sqlc-gen-crystal
sql:
  - engine: postgresql
    queries: 
      - queries.sql
      - queries_with_embeds.sql
    schema: schema.sql
    codegen:
      - plugin: crystal
        out: src/db
        options:
          module: "TestApp::Database"
          emit_json_tags: false
          generate_connection_manager: true
          generate_repositories: true